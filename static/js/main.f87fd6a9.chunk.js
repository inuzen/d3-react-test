(this["webpackJsonpd3-react-test"]=this["webpackJsonpd3-react-test"]||[]).push([[0],{11:function(e,t,a){e.exports=a(18)},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),l=(a(16),a(17),a(3)),i=Object(n.createContext)(),s=a(9),u=a(8);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d=function(e,t){switch(t.type){case"GET_DATA":return f({},e,{data:t.payload});case"ADD_ITEM":return f({},e,{data:[].concat(Object(s.a)(e.data),[t.payload])});case"DELETE_ITEM":return f({},e,{data:e.data.filter((function(e){return e.id!==t.payload}))});default:return e}},p=function(e){var t=Object(n.useReducer)(d,{data:[]}),a=Object(l.a)(t,2),c=a[0],o=a[1];return r.a.createElement(i.Provider,{value:{data:c.data,getDataFromStorage:function(e){o({type:"GET_DATA",payload:JSON.parse(e)})},addDataPoint:function(e){o({type:"ADD_ITEM",payload:e})},deleteDataPoint:function(e){o({type:"DELETE_ITEM",payload:e})}}},e.children)},b=a(1),E=function(){var e=Object(n.useContext)(i).data,t=Object(n.useRef)(),a=Object(n.useRef)(),c=function(e){var t=Object(n.useState)(null),a=Object(l.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t=e.current,a=new ResizeObserver((function(e){e.forEach((function(e){c(e.contentRect)}))}));return a.observe(t),function(){return a.unobserve(t)}}),[e]),r}(a);return Object(n.useEffect)((function(){c&&(!function(e,a){var n=Object(b.f)(t.current),r=Object(b.e)().domain([Object(b.c)(e,(function(e){return new Date(e.timeStamp)})),Object(b.b)(e,(function(e){return new Date(e.timeStamp)}))]).range([0,a.width]),c=Object(b.d)().domain([Object(b.c)(e,(function(e){return e.dataPoint})),Object(b.b)(e,(function(e){return e.dataPoint}))]).range([a.height,0]),o=Object(b.a)().x((function(e){return r(new Date(e.timeStamp))})).y((function(e){return c(e.dataPoint)}));n.selectAll(".line").data([e]).join("path").attr("class","line").attr("d",o).attr("fill","none").attr("stroke","blue"),n.select(".text-overlay").attr("font-family","sans-serif").attr("font-size",12).attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("text-anchor","middle").selectAll("text").data(e).join("text").text((function(e){return e.dataPoint})).attr("dy","1em").attr("x",(function(e){return r(new Date(e.timeStamp))})).attr("y",(function(e){return c(e.dataPoint)}))}(e,c),localStorage.setItem("data",JSON.stringify(e)))}),[e,c]),r.a.createElement("div",{className:"graph-container"},r.a.createElement("div",{ref:a,className:"graph-wrapper"},r.a.createElement("svg",{className:"graph-svg",ref:t},r.a.createElement("g",{className:"x-axis"}),r.a.createElement("g",{className:"y-axis"}),r.a.createElement("g",{className:"text-overlay"}))))},O=function(e){return"0".concat(e).slice(-2)},v=function(e){var t,a=e.data,c=Object(n.useContext)(i).deleteDataPoint,o=a.id,l=a.timeStamp,s=a.dataPoint,u=new Date(l),m=[(t=u).getHours(),t.getMinutes(),t.getSeconds()].map(O).join(":")+":"+u.getMilliseconds();return r.a.createElement("div",{className:"item-container flex-row"},r.a.createElement("span",{className:"text"},m),r.a.createElement("span",{className:"text text-700"},s),r.a.createElement("button",{onClick:function(e){e.preventDefault(),c(o)},className:"button button-remove"},"Remove"))},g=function(){var e=Object(n.useContext)(i),t=e.data,a=e.addDataPoint,c=e.getDataFromStorage;Object(n.useEffect)((function(){var e=localStorage.getItem("data");e&&c(e)}),[]);var o=Object(n.useRef)(0),l=function(){var e=o.current.value;e&&!isNaN(e)&&a({id:t.length>0?t[t.length-1].id+1:0,dataPoint:Number(e),timeStamp:new Date}),o.current.value=""};return r.a.createElement("div",{className:"controls-container"},r.a.createElement("div",{className:"controls-wrapper flex-column"},r.a.createElement("div",{className:"number-input-container flex-column"},r.a.createElement("h3",{className:"text text-h3 text-700"},"Data"),r.a.createElement("input",{ref:o,onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),l())},className:"controls-input",type:"number",placeholder:"enter new datapoint"}),r.a.createElement("button",{onClick:function(e){e.preventDefault(),l()},className:"button button-add"},"Add")),r.a.createElement("div",{className:"data-list-container flex-column"},r.a.createElement("p",{className:"text text-500"},"List of values"),r.a.createElement(n.Fragment,null,t&&t.map((function(e){return r.a.createElement(v,{key:e.id,data:e})}))))))},j=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],u=i[1],m=Object(n.useRef)(""),f=Object(n.useRef)("");Object(n.useEffect)((function(){m.current.style.width=s?"0%":"20%",f.current.style.width=a?"0%":"20%"}),[a,s]);var d=function(e){e.preventDefault(),"expand-left"===e.target.getAttribute("name")?u(!s):c(!a),e.target.classList.toggle("expand-right")};return r.a.createElement(p,null,r.a.createElement("div",{className:"app-container"},r.a.createElement("div",{ref:m,className:"panel panel-left"},"Panel 1"),r.a.createElement("div",{className:"app-wrapper "},r.a.createElement("span",{name:"expand-left",onClick:d,className:"expand position-left expand-left"}),r.a.createElement("div",{className:"content-wrapper flex-row"},r.a.createElement(E,null),r.a.createElement(g,null)),r.a.createElement("span",{name:"expand-right",onClick:d,className:"expand position-right expand-right"})),r.a.createElement("div",{ref:f,className:"panel panel-right"},"Panel 2")))};o.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.f87fd6a9.chunk.js.map